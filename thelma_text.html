<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="thelma_core.html">

<polymer-element name="th-quote-box" attributes="qTitle qDetails qImage bgColor borderColor" noscript>
  <template>
      <style>
          .quote-box {
            width: 85%;
            padding: 2% 3%;
            margin: 10px auto 30px auto;
            border: 2px solid {{borderColor}};
            /*font-size: 1.125em;  //18px*/
            font-weight:300;
            position: relative;
            background-color {{bgColor}};

          } 
          .quote-box:after, .quote-box:before {
            top: 100%;
            left: 50%;
            border: solid transparent;
            content: " ";
            height: 0;
            width: 0;
            position: absolute;
            pointer-events: none;
            margin-bottom: 6%;
          }
          
          .quote-box:after {
            border-color: rgba(0, 0, 0, 0);
            border-top-color: {{bgColor}};
            border-width: 20px;
            margin-left: -20px;
          }
          .quote-box:before {
            border-color: rgba(255, 255, 255, 0);
            border-top-color: {{borderColor}};
            border-width: 23px;
            margin-left: -23px;
          }
           
          .person-info {
            text-align: center;
            margin: 0 auto;
          }
          .person-info .title {
              font-size: 0.875em; //14px
              width: 90%;
              margin: 0 auto;
          }
          
      </style>
      <div class="quote">
          <div class="quote-box">
          <content></content>
          </div>
          <div class="person-info">
              <template if="{{qImage}}">
                <img src="{{qImage}}">
              </template>
              
              <div>
                  <template if="{{qTitle}}">
                    <div class="name">{{qTitle}}</div>
                  </template>
                  <template if="{{qDetails}}">
                    <div class="title">{{qDetails}}</div>
                  </template>
                  
              </div>
          </div>
      </div>
        
    
  </template>
  
</polymer-element>

<polymer-element name="th-countup-num" extends="th-animated" attributes="startFrom startFromSameNumberOfDigit duration">
  <template>
      <style>
        :host {
          display: inline-block;
          position: relative;
        }
        
        span {
          padding:0;
          margin: 0;
        }
      </style>
      <div class="container">
        <span id="before_num"></span><span id="num"></span><span id="after_num"></span>
      </div>
  </template>
  <script src="../bower_components/countUp.js/countUp.js"></script> 
  <script src="scripts/thelma_text.js"></script>


</polymer-element>


<polymer-element name="th-reveal" extends="th-animated" attributes="transition duration">
  <template>
      <style>
        :host {
          display: inline-block;
          position: relative;
        }

        .th-transition-slide {
           transform: translateX(500%);
           -moz-transform: translateX(500%);
           -webkit-transform: translateX(500%);
        }

        .th-transition-slide-show {
           transform: translateX(0%);
           -moz-transform: translateX(0%);
           -webkit-transform: translateX(0%);
        }

        #container {
            transition: all 0.3s ease;
            -webkit-transition: all 0.3s ease;
            -moz-transition: all 0.3s ease;
            -o-transition: all 0.3s ease;
        }
        
      </style>
      <div id="container">
        <content></content>
      </div>
  </template>
  <script src="scripts/thelma_text.js"></script>
</polymer-element>


<polymer-element name="th-footnote" extends="th-animated" attributes="toggle show hide">
  <template>
    <style>
      :host {
        font-size: 0.875em;
      }
      #container {
        position: absolute;
        left: 0;
        bottom: -100%;
        padding: 15px 15px 15px 35px;
        background: url('/images/link-icon.png') 10px 20px no-repeat;
        background-color: rgba(0,0,0,.8);
        color: white;
        width: 100%;
        z-index: 500;
        box-sizing: border-box;
        -webkit-transition: all 0.3s ease;
                transition: all 0.3s ease;
           -moz-transition: all 0.3s ease;
             -o-transition: all 0.3s ease;
      }
      #info {
        border-radius: 50%;
        background-color: rgba(0,0,0,0.5);
        color: white;
        width: 23px;
        height: 23px;
        display: inline-block;
        padding: 1px;
        text-align: center;
        cursor: pointer;
      }

      .th-transition-show {
        -webkit-transform: translateY(-100%);
           -moz-transform: translateY(-100%);
                transform: translateY(-100%);
      }

    </style>
    <span id="info" on-click="{{toggle}}">i</span>
    <div id="container"><content></content></div>
  </template> 
  <script>
    Polymer('th-footnote', {
      visible: false,
      domReady: function(){
        this.$container = this.$.container;
        var height = this.$container.offsetHeight - 10; // remove the padding (why 10? it was 30 before!!)
        this.$container.style.bottom = -height +'px';
      },
      toggle: function(){
        this.$container.classList.toggle('th-transition-show');
        this.visible != this.visible;
      },
      show: function() {
        this.$container.classList.add('th-transition-show');
        this.visible = true;
      },
      hide: function() {
        this.$container.classList.remove('th-transition-show');
        this.visible = false;
      }
    });
  </script>
</polymer-element> 




<polymer-element assetpath="." name="th-two-column" extends="th-animated" attributes="leftWidth">
  <template>
      <style>
        :host {
          display: inline-block;
          position: relative;
          width: 100%;
        }
        #leftCol, #rightCol {
          display: inline-block;
          position: relative;
        }
      </style>
      <div id="leftCol">
        <content select=".left"></content>
      </div>
      <div id="rightCol">
        <content select=".right"></content>
      </div>
  </template>
  <script>
    Polymer('th-two-column', {
      leftWidth: "40%",
      ready: function() {
        this.init();
      },
      init: function() {
        var leftCol = this.$.leftCol;
        var rightCol = this.$.rightCol;
        var rightWidth = 98 - parseInt(this.leftWidth); // leave 2% for padding    
        leftCol.style.width = this.leftWidth + "%";    
        rightCol.style.width = rightWidth + "%";
      }
    });
  </script>
</polymer-element>

